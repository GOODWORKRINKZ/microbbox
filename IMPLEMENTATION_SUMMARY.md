# Summary: HTTPS Implementation for WebXR/VR Support

## –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏

**–ò—Å—Ö–æ–¥–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (–Ω–∞ —Ä—É—Å—Å–∫–æ–º):**
> –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –í–ò–ê–† –Ω—É–∂–Ω–æ —á—Ç–æ–±—ã –µ—Å–ø –∏–º–µ–ª–∞ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –∏ –•–¢–¢–ü–° –ø–æ —ç—Ç–æ–º—É –ø–ª–∞–Ω—É—Ä—É—é –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤–µ—Ç–∫–µ –¥–ª—è —ç—Ç–æ–≥–æ –¥–ª—è —Ä–µ–∂–∏–º–∞ –ê–ü –≤–∫–ª—é—á–∞—Ç—å —Ö—Ç—Ç–ø—Å —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º –ª–µ—Ü—ç–Ω–∫—Ä–∏–ø—Ç, —è –ø–ª–∞–Ω–∏—Ä—É—é –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –æ—á–∫–∞–º–∏ –≤ —Ä–µ–∂–∏–º–µ –∞–ø –ø—Ä—è–º –∫ –µ—Å–ø

**–ü–µ—Ä–µ–≤–æ–¥:**
–î–ª—è —Ä–∞–±–æ—Ç—ã —Å VR/AR –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —á—Ç–æ–±—ã ESP –∏–º–µ–ª–∞ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è –∏ HTTPS, –ø–æ—ç—Ç–æ–º—É –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤–µ—Ç–∫–µ –¥–ª—è —Ä–µ–∂–∏–º–∞ AP –≤–∫–ª—é—á–∏—Ç—å HTTPS —Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º (Let's Encrypt –∏–ª–∏ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π), –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è VR –æ—á–∫–æ–≤ (Quest) –Ω–∞–ø—Ä—è–º—É—é –∫ ESP –≤ —Ä–µ–∂–∏–º–µ AP.

## –ü—Ä–∏—á–∏–Ω–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ HTTPS

WebXR API (–¥–ª—è VR –≤ –±—Ä–∞—É–∑–µ—Ä–µ) —Ç—Ä–µ–±—É–µ—Ç **secure context** - –∑–∞—â–∏—â–µ–Ω–Ω–æ–µ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ. –ë—Ä–∞—É–∑–µ—Ä—ã —Ä–∞–∑—Ä–µ—à–∞—é—Ç WebXR —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑:
- `https://` (HTTPS)
- `localhost` (–∏—Å–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

–ü—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ Quest –∫ ESP32 –≤ —Ä–µ–∂–∏–º–µ AP –ø–æ IP `192.168.4.1`, —ç—Ç–æ –Ω–µ localhost, –ø–æ—ç—Ç–æ–º—É **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω HTTPS**.

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ: Dual Server

–í–º–µ—Å—Ç–æ –∑–∞–º–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ HTTP —Å–µ—Ä–≤–µ—Ä–∞, –¥–æ–±–∞–≤–ª–µ–Ω **–ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π HTTPS —Å–µ—Ä–≤–µ—Ä**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ ESP32 –ú–∏–∫–†–æ–ë–ë–æ–∫—Å                            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ –ü–æ—Ä—Ç 80  ‚îÇ HTTP  ‚îÇ AsyncWebServer          ‚îÇ ‚Üê –û–±—ã—á–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îÇ –ü–æ—Ä—Ç 81  ‚îÇ HTTP  ‚îÇ Camera Stream           ‚îÇ ‚Üê –í–∏–¥–µ–æ (–≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
‚îÇ –ü–æ—Ä—Ç 443 ‚îÇ HTTPS ‚îÇ esp32_https_server      ‚îÇ ‚Üê VR –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ (WebXR)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å - HTTP –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∫–ª—é—á–µ–Ω–∏—è HTTPS (feature flag)
- ‚úÖ VR –∏ –Ω–µ-VR –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

#### 1. –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `esp32_https_server` –æ—Ç fhessel:
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å mbedTLS (–≤—Å—Ç—Ä–æ–µ–Ω –≤ ESP32)
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

#### 2. –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- **–¢–∏–ø:** –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π X.509
- **–ê–ª–≥–æ—Ä–∏—Ç–º:** RSA 2048 –±–∏—Ç
- **–°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è:** 10 –ª–µ—Ç
- **Subject:** `CN=microbbox.local, O=MicroBox, C=RU`
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ —á–µ—Ä–µ–∑ OpenSSL
- **–•—Ä–∞–Ω–µ–Ω–∏–µ:** –í—Å—Ç—Ä–æ–µ–Ω –≤ –ø—Ä–æ—à–∏–≤–∫—É –∫–∞–∫ C –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

**–ü–æ—á–µ–º—É –Ω–µ Let's Encrypt:**
- Let's Encrypt —Ç—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ–º–µ–Ω
- ESP32 –≤ —Ä–µ–∂–∏–º–µ AP –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

#### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞

–°–æ–∑–¥–∞–Ω Python —Å–∫—Ä–∏–ø—Ç `scripts/generate_cert.py` –∫–æ—Ç–æ—Ä—ã–π:
1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ OpenSSL
2. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç RSA 2048 –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á
3. –°–æ–∑–¥–∞–µ—Ç —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –Ω–∞ 10 –ª–µ—Ç
4. –ö–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç –≤ C header —Ñ–∞–π–ª `include/cert.h`
5. –í—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤ –ø—Ä–æ—à–∏–≤–∫—É –ø—Ä–∏ —Å–±–æ—Ä–∫–µ

–°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∫–∞–∫ `pre:` script –≤ PlatformIO.

#### 4. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è HTTPS —Å–µ—Ä–≤–µ—Ä–∞

–î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `MicroBoxRobot::initHTTPSServer()` –∫–æ—Ç–æ—Ä—ã–π:
- –°–æ–∑–¥–∞–µ—Ç `SSLCert` –∏–∑ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö PEM —Å—Ç—Ä–æ–∫
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç `HTTPSServer` –Ω–∞ –ø–æ—Ä—Ç—É 443
- –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤—Å–µ—Ö API endpoints:
  - `/` - –≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞
  - `/command` - API –∫–æ–º–∞–Ω–¥—ã (POST)
  - `/api/wifi/status` - —Å—Ç–∞—Ç—É—Å WiFi (GET)
  - `/styles.css`, `/script.js` - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã

–û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥—É–±–ª–∏—Ä—É—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª HTTP —Å–µ—Ä–≤–µ—Ä–∞, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø–æ–ª–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**platformio.ini:**
```ini
lib_deps =
    ottowinter/ESPAsyncWebServer-esphome @ ^3.0.0
    adafruit/Adafruit NeoPixel @ ^1.10.7
    https://github.com/fhessel/esp32_https_server.git  # –ù–û–í–û–ï

extra_scripts = 
    pre:scripts/install_deps.py
    pre:scripts/generate_cert.py  # –ù–û–í–û–ï
    pre:scripts/embed_resources.py
    pre:scripts/generate_version.py
```

**include/config.h:**
```cpp
#define FEATURE_HTTPS   // HTTPS —Å–µ—Ä–≤–µ—Ä –¥–ª—è WebXR/VR (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è Oculus Quest)

#ifdef FEATURE_HTTPS
#define HTTPS_PORT 443
#endif
```

#### –ö–æ–¥

**include/MicroBoxRobot.h:**
```cpp
#ifdef FEATURE_HTTPS
#include <HTTPSServer.hpp>
#include <SSLCert.hpp>
#endif

class MicroBoxRobot {
private:
#ifdef FEATURE_HTTPS
    void initHTTPSServer();
    httpsserver::HTTPSServer* httpsServer;
    httpsserver::SSLCert* sslCert;
#endif
};
```

**src/MicroBoxRobot.cpp:**
- –î–æ–±–∞–≤–ª–µ–Ω `initHTTPSServer()` —Å –ø–æ–ª–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π
- –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç `httpsServer` –∏ `sslCert` –∫–∞–∫ `nullptr`
- –î–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Ä–µ—Å—É—Ä—Å—ã
- `init()` –≤—ã–∑—ã–≤–∞–µ—Ç `initHTTPSServer()` –ø–æ—Å–ª–µ `initWebServer()`

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω–æ 3 —É—Ä–æ–≤–Ω—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

1. **README.md** - –∫—Ä–∞—Ç–∫–∏–π –æ–±–∑–æ—Ä HTTPS + –æ–±–Ω–æ–≤–ª–µ–Ω—ã VR –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏
2. **HTTPS_QUICKSTART.md** - –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
3. **HTTPS_SETUP.md** - –ø–æ–ª–Ω–æ–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–ö–∞–∂–¥—ã–π —É—Ä–æ–≤–µ–Ω—å –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–≤–æ—é –∞—É–¥–∏—Ç–æ—Ä–∏—é:
- README - –¥–ª—è –≤—Å–µ—Ö, –∫—Ç–æ –∑–Ω–∞–∫–æ–º–∏—Ç—Å—è —Å –ø—Ä–æ–µ–∫—Ç–æ–º
- QUICKSTART - –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å
- SETUP - –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ —Ö–æ—á–µ—Ç –ø–æ–Ω—è—Ç—å –¥–µ—Ç–∞–ª–∏

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞

1. –†–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ `include/config.h`:
   ```cpp
   #define FEATURE_HTTPS
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å OpenSSL (–µ—Å–ª–∏ –µ—â–µ –Ω–µ—Ç)

3. –°–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:
   ```bash
   platformio run
   ```

4. –ó–∞–≥—Ä—É–∑–∏—Ç—å –≤ ESP32:
   ```bash
   platformio run --target upload
   ```

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è VR

1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ WiFi `MICROBBOX-XXXXXX`

2. –û—Ç–∫—Ä—ã—Ç—å Oculus Browser

3. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ **`https://192.168.4.1`** (–Ω–µ http!)

4. –ü—Ä–∏–Ω—è—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ:
   - "–í–∞—à–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ –∑–∞—â–∏—â–µ–Ω–æ"
   - "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ" ‚Üí "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å"

5. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É **"ü•Ω VR"** –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

6. –ù–∞—Å–ª–∞–∂–¥–∞—Ç—å—Å—è VR —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ä–æ–±–æ—Ç–æ–º!

## –†–µ—Å—É—Ä—Å—ã –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –ü–∞–º—è—Ç—å

- **RAM overhead:** ~40-50 KB –¥–ª—è HTTPS —Å–µ—Ä–≤–µ—Ä–∞
- **Flash:** ~50 KB (–±–∏–±–ª–∏–æ—Ç–µ–∫–∞ + —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç)
- **Concurrent connections:** 2-3 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö HTTPS

### CPU

- **TLS —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ:** +5-10% –Ω–∞–≥—Ä—É–∑–∫–∏
- **Handshake delay:** +10-20ms –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- **Throughput:** –ù–µ–∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ —Å–Ω–∏–∂–µ–Ω–∏–µ –∏–∑-–∑–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–ï—Å–ª–∏ HTTPS –Ω–µ –Ω—É–∂–µ–Ω, –º–æ–∂–Ω–æ:
1. –ó–∞–∫–æ–º–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å `#define FEATURE_HTTPS`
2. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
3. –û—Å–≤–æ–±–æ–¥–∏—Ç—å ~50KB RAM –∏ Flash

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

**–ü–ª—é—Å—ã:**
- ‚úÖ –®–∏—Ñ—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ (–∑–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞)
- ‚úÖ –ü–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å WebXR
- ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞

**–ú–∏–Ω—É—Å—ã:**
- ‚ö†Ô∏è –ë—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- ‚ö†Ô∏è –ù–µ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω Certificate Authority
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–∏–Ω—è—Ç—å –≤—Ä—É—á–Ω—É—é –Ω–∞ –∫–∞–∂–¥–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ

**–í—ã–≤–æ–¥:** –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏ –∏ VR –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è - –æ–ø—Ç–∏–º–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –î–ª—è **–ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏** - —Å–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø–æ–¥—Ö–æ–¥–∏—Ç
- –î–ª—è **–ø—É–±–ª–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞** - –Ω—É–∂–µ–Ω –Ω–∞—Å—Ç–æ—è—â–∏–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç CA
- –î–ª—è **–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è** - —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å reverse proxy —Å –Ω–∞—Å—Ç–æ—è—â–∏–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä–µ–Ω–æ

- ‚úÖ –ö–æ–¥ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏ –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω
- ‚úÖ –°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ–ª–Ω–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è
- ‚úÖ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞

### –ß—Ç–æ –Ω—É–∂–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å

- üî≤ –ö–æ–º–ø–∏–ª—è—Ü–∏—è —Å PlatformIO
- üî≤ –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ ESP32
- üî≤ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å Quest
- üî≤ –ü—Ä–∏–Ω—è—Ç–∏–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –≤ Oculus Browser
- üî≤ –†–∞–±–æ—Ç–∞ WebXR —á–µ—Ä–µ–∑ HTTPS
- üî≤ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (RAM, CPU, throughput)

## –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è (—Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω—ã –∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω—ã)

### 1. Port Forwarding + localhost
**–ò–¥–µ—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `adb reverse` –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ localhost

**–ü–æ—á–µ–º—É –Ω–µ—Ç:**
- –¢—Ä–µ–±—É–µ—Ç USB –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ Quest –∫ –ü–ö
- –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è standalone —Ä–µ–∂–∏–º–∞ Quest
- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ø—Ä—è–º–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ ESP32 –≤ AP —Ä–µ–∂–∏–º–µ

### 2. –ó–∞–º–µ–Ω–∞ AsyncWebServer –Ω–∞ esp32_https_server
**–ò–¥–µ—è:** –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–º–µ–Ω–∏—Ç—å AsyncWebServer

**–ü–æ—á–µ–º—É –Ω–µ—Ç:**
- –¢—Ä–µ–±—É–µ—Ç –ø–µ—Ä–µ–ø–∏—Å–∞—Ç—å –≤–µ—Å—å –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- –õ–æ–º–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- –ë–æ–ª—å—à–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π = –±–æ–ª—å—à–µ —Ä–∏—Å–∫–æ–≤
- AsyncWebServer —Ö–æ—Ä–æ—à–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è HTTP

### 3. Reverse Proxy
**–ò–¥–µ—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π proxy (Nginx) —Å –Ω–∞—Å—Ç–æ—è—â–∏–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º

**–ü–æ—á–µ–º—É –Ω–µ—Ç:**
- –¢—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ (Raspberry Pi, –ü–ö)
- –£—Å–ª–æ–∂–Ω—è–µ—Ç –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
- ESP32 –≤ AP —Ä–µ–∂–∏–º–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ
- –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è standalone –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 4. Let's Encrypt
**–ò–¥–µ—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –æ—Ç Let's Encrypt

**–ü–æ—á–µ–º—É –Ω–µ—Ç:**
- –¢—Ä–µ–±—É–µ—Ç –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ–º–µ–Ω –∏ DNS
- ESP32 –≤ AP —Ä–µ–∂–∏–º–µ –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –ø—Ä–æ—â–µ –∏ –Ω–∞–¥–µ–∂–Ω–µ–µ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏

## –í—ã–≤–æ–¥—ã

–†–µ–∞–ª–∏–∑–∞—Ü–∏—è HTTPS –¥–ª—è WebXR/VR –Ω–∞ ESP32 **–∑–∞–≤–µ—Ä—à–µ–Ω–∞** –∏ –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

**–ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞ (dual server –ø–æ–¥—Ö–æ–¥)
- ‚úÖ –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (3 —É—Ä–æ–≤–Ω—è)
- ‚úÖ –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å (feature flag)

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç —Å–±–æ—Ä–∫—É
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å Quest
3. –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã WebXR
4. –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
5. Merge –≤ main –≤–µ—Ç–∫—É

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [HTTPS Quick Start Guide](HTTPS_QUICKSTART.md)
- [HTTPS Setup Manual](HTTPS_SETUP.md)
- [esp32_https_server GitHub](https://github.com/fhessel/esp32_https_server)
- [WebXR Device API](https://developer.mozilla.org/en-US/docs/Web/API/WebXR_Device_API)
- [OpenSSL Documentation](https://www.openssl.org/docs/)
