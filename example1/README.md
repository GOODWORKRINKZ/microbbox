# ФИЛИН

## Описание проекта

ФИЛИН - это мультичастотный радиочастотный сканер, который поддерживает работу с радиомодулями на частотах 1.2 ГГц, 2.4 ГГц и 5.8 ГГц. Проект основан на использовании микроконтроллера ESP32 и включает возможность отображения данных на TFT дисплее, управление с помощью кнопок и предоставление звуковых сигналов через зуммер. Проект предназначен для мониторинга различных диапазонов радиочастот и отображения уровня сигнала (RSSI) в виде графиков и водопадной диаграммы.

## Основные особенности

- **Мультичастотность**: Поддержка радиомодулей на частотах 1.2 ГГц, 2.4 ГГц и 5.8 ГГц.
- **Графическое отображение**: Вывод уровня сигнала (RSSI) на TFT дисплей в виде бар-графиков и водопадной диаграммы.
- **Уведомления**: Звуковые и визуальные уведомления о состоянии устройства и уровне заряда батареи.
- **Управление**: Регулировка чувствительности и выбор активного диапазона с помощью кнопок.

## Структура файлов

- **hardware_config.h**: Определение аппаратной конфигурации, включение и отключение радиомодулей, настройка пинов и частот.
- **globals.h**: Определение глобальных переменных, констант и макросов, используемых в проекте.
- **main.cpp**: Главный файл проекта, инициализация сервисов и запуск задач на FreeRTOS.
- **Services/**: Директория с различными сервисами для обработки данных, управления дисплеем, кнопками, звуком и т.д.
  - **AggregateService.h**: Агрегация данных с разных радиомодулей.
  - **ButtonService.h**: Обработка нажатий кнопок.
  - **BuzzerService.h**: Управление зуммером для звуковых уведомлений.
  - **DisplayService.h**: Управление графическим отображением на TFT дисплее.
  - **VBatService.h**: Мониторинг уровня заряда батареи.
  - **Radio12Service.h**, **Radio24Service.h**, **Radio58Service.h**: Управление радиомодулями для соответствующих частот.
- **Widgets/**: Директория с виджетами для отображения данных на дисплее.
  - **RxWidget.h**: Виджет для отображения уровня сигнала и параметров каждого радиомодуля.
  - **StatusBarWidget.h**: Виджет для отображения состояния устройства и уровня заряда батареи.
- **Rx5808.h**: Управление радиомодулем Rx5808 для 5.8 ГГц.
- **CC2500.h**: Управление радиомодулем CC2500 для 2.4 ГГц.
- **SM1370R.h**: Управление радиомодулем SM1370R для 1.2 ГГц.
- **extra_script.py**: Скрипт для получения версии из Git и добавления её в сборку.
- **platformio.ini**: Конфигурационный файл проекта для PlatformIO.

## Установка

1. Клонируйте репозиторий:
    ```sh
    git clone https://github.com/yourusername/filin.git
    cd filin
    ```

2. Установите библиотеки, необходимые для работы с железом, например для Arduino:
    ```sh
    arduino-cli lib install "TFT_eSPI"
    ```

3. Загрузите прошивку на ваше устройство с помощью Arduino IDE или `arduino-cli`:
    ```sh
    arduino-cli upload -p /dev/ttyUSB0 --fqbn esp32:esp32:esp32 your-sketch-name
    ```

## Использование

1. После загрузки прошивки и включения устройства, вы увидите экран загрузки.
2. На главном экране будут отображаться уровни сигнала для всех включенных диапазонов.
3. Используйте кнопки для переключения диапазонов и изменения чувствительности.
4. На индикаторе батареи будет отображаться текущий уровень заряда и уведомления о низком заряде.

## Поддержка

Если у вас есть вопросы или вам нужна помощь, откройте issue в репозитории на GitHub.

## Лицензия