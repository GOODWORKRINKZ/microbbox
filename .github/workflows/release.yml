name: ÐœÐ¸ÐºÑ€Ð¾Ð‘Ð‘Ð¾ÐºÑ Release

on:
  workflow_dispatch:
    inputs:
      version:
        description: 'Release version (e.g. v1.0.0)'
        required: true
        type: string

permissions:
  contents: write

jobs:
  create-release:
    name: Create Release and Build Firmware
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout Repository
      uses: actions/checkout@v4
      with:
        fetch-depth: 0
        
    - name: Setup Python
      uses: actions/setup-python@v5
      with:
        python-version: '3.11'
        
    - name: Cache PlatformIO
      uses: actions/cache@v4
      with:
        path: |
          ~/.platformio
          .pio
        key: ${{ runner.os }}-pio-${{ hashFiles('**/platformio.ini') }}
        restore-keys: |
          ${{ runner.os }}-pio-
          
    - name: Install PlatformIO and dependencies
      run: |
        python -m pip install --upgrade pip
        pip install platformio htmlmin jsmin csscompressor
        
    - name: Generate Epic Release Name
      id: epic_name
      run: |
        # ÐœÐ°ÑÑÐ¸Ð²Ñ‹ ÑÑ‚Ð°Ñ€Ð¾ÑÐ»Ð°Ð²ÑÐ½ÑÐºÐ¸Ñ… Ð¿Ñ€Ð¸Ð»Ð°Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ñ… Ð¸ Ð³ÐµÑ€Ð¾ÐµÐ²
        ADJECTIVES=(
          "Yarostniy:Ð¯Ñ€Ð¾ÑÑ‚Ð½Ñ‹Ð¹"
          "Mudriy:ÐœÑƒÐ´Ñ€Ñ‹Ð¹"
          "Hrabriy:Ð¥Ñ€Ð°Ð±Ñ€Ñ‹Ð¹"
          "Veshchiy:Ð’ÐµÑ‰Ð¸Ð¹"
          "Moguchiy:ÐœÐ¾Ð³ÑƒÑ‡Ð¸Ð¹"
          "Slavniy:Ð¡Ð»Ð°Ð²Ð½Ñ‹Ð¹"
          "Grozniy:Ð“Ñ€Ð¾Ð·Ð½Ñ‹Ð¹"
          "Bystriy:Ð‘Ñ‹ÑÑ‚Ñ€Ñ‹Ð¹"
          "Svetliy:Ð¡Ð²ÐµÑ‚Ð»Ñ‹Ð¹"
          "Krepkiy:ÐšÑ€ÐµÐ¿ÐºÐ¸Ð¹"
          "Silniy:Ð¡Ð¸Ð»ÑŒÐ½Ñ‹Ð¹"
          "Udaloy:Ð£Ð´Ð°Ð»Ð¾Ð¹"
          "Otvazhniy:ÐžÑ‚Ð²Ð°Ð¶Ð½Ñ‹Ð¹"
          "Verniy:Ð’ÐµÑ€Ð½Ñ‹Ð¹"
          "Braviy:Ð‘Ñ€Ð°Ð²Ñ‹Ð¹"
          "Velikiy:Ð’ÐµÐ»Ð¸ÐºÐ¸Ð¹"
          "Vechniy:Ð’ÐµÑ‡Ð½Ñ‹Ð¹"
          "Hitriy:Ð¥Ð¸Ñ‚Ñ€Ñ‹Ð¹"
          "Shchedriy:Ð©ÐµÐ´Ñ€Ñ‹Ð¹"
          "Neukrotimiy:ÐÐµÑƒÐºÑ€Ð¾Ñ‚Ð¸Ð¼Ñ‹Ð¹"
        )
        
        HEROES=(
          "Svyatogor:Ð¡Ð²ÑÑ‚Ð¾Ð³Ð¾Ñ€"
          "Dobrynya:Ð”Ð¾Ð±Ñ€Ñ‹Ð½Ñ"
          "Ilya:Ð˜Ð»ÑŒÑ"
          "Boyan:Ð‘Ð¾ÑÐ½"
          "Mikula:ÐœÐ¸ÐºÑƒÐ»Ð°"
          "Peresvet:ÐŸÐµÑ€ÐµÑÐ²ÐµÑ‚"
          "Volkh:Ð’Ð¾Ð»Ñ…"
          "Stavr:Ð¡Ñ‚Ð°Ð²Ñ€"
          "Alyosha:ÐÐ»Ñ‘ÑˆÐ°"
          "Dunay:Ð”ÑƒÐ½Ð°Ð¹"
          "Volga:Ð’Ð¾Ð»ÑŒÐ³Ð°"
          "Churilo:Ð§ÑƒÑ€Ð¸Ð»Ð¾"
          "Yeruslan:Ð•Ñ€ÑƒÑÐ»Ð°Ð½"
          "Sadko:Ð¡Ð°Ð´ÐºÐ¾"
          "Dyuk:Ð”ÑŽÐº"
          "Vladimir:Ð’Ð»Ð°Ð´Ð¸Ð¼Ð¸Ñ€"
          "Koshchey:ÐšÐ¾Ñ‰ÐµÐ¹"
          "Solovey:Ð¡Ð¾Ð»Ð¾Ð²ÐµÐ¹"
          "Potyk:ÐŸÐ¾Ñ‚Ñ‹Ðº"
          "Buslay:Ð‘ÑƒÑÐ»Ð°Ð¹"
        )
        
        # Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐµÐ¼ Ð²ÐµÑ€ÑÐ¸ÑŽ ÐºÐ°Ðº seed Ð´Ð»Ñ Ð´ÐµÑ‚ÐµÑ€Ð¼Ð¸Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð¹ Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸
        VERSION="${{ inputs.version }}"
        SEED=$(echo -n "$VERSION" | md5sum | cut -c1-8)
        SEED_DEC=$((16#$SEED))
        
        # Ð’Ñ‹Ð±Ð¸Ñ€Ð°ÐµÐ¼ Ð¿Ñ€Ð¸Ð»Ð°Ð³Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð¾Ðµ Ð¸ Ð³ÐµÑ€Ð¾Ñ Ð¿Ð¾ seed
        ADJ_INDEX=$(($SEED_DEC % ${#ADJECTIVES[@]}))
        HERO_INDEX=$((($SEED_DEC / ${#ADJECTIVES[@]}) % ${#HEROES[@]}))
        
        ADJ_PAIR="${ADJECTIVES[$ADJ_INDEX]}"
        HERO_PAIR="${HEROES[$HERO_INDEX]}"
        
        ADJ_EN=$(echo $ADJ_PAIR | cut -d: -f1)
        ADJ_RU=$(echo $ADJ_PAIR | cut -d: -f2)
        HERO_EN=$(echo $HERO_PAIR | cut -d: -f1)
        HERO_RU=$(echo $HERO_PAIR | cut -d: -f2)
        
        EPIC_NAME_EN="${ADJ_EN} ${HERO_EN}"
        EPIC_NAME_RU="${ADJ_RU} ${HERO_RU}"
        
        echo "epic_name_en=${EPIC_NAME_EN}" >> $GITHUB_OUTPUT
        echo "epic_name_ru=${EPIC_NAME_RU}" >> $GITHUB_OUTPUT
        
        echo "ðŸŽ­ Ð­Ð¿Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ñ€ÐµÐ»Ð¸Ð·Ð°: ${EPIC_NAME_RU} (${EPIC_NAME_EN})"
        
    - name: Create Git Tag
      run: |
        git config user.name "GitHub Actions"
        git config user.email "actions@github.com"
        git tag -a ${{ inputs.version }} -m "Release ${{ inputs.version }}"
        git push origin ${{ inputs.version }}
        
    - name: Build Release Firmware
      run: |
        echo "ðŸ”¨ Building release firmware..."
        pio run --environment release
        
    - name: Build Debug Firmware
      run: |
        echo "ðŸ”¨ Building debug firmware..."
        pio run --environment debug
        
    - name: Prepare Release Files
      run: |
        VERSION=${{ inputs.version }}
        
        # ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ð¸ Ð¿ÐµÑ€ÐµÐ¸Ð¼ÐµÐ½Ð¾Ð²Ñ‹Ð²Ð°ÐµÐ¼ Ñ„Ð°Ð¹Ð»Ñ‹
        cp .pio/build/release/firmware.bin microbox-${VERSION}-release.bin
        cp .pio/build/debug/firmware.bin microbox-${VERSION}-debug.bin
        
        # Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ñ‹Ðµ ÑÑƒÐ¼Ð¼Ñ‹
        sha256sum microbox-${VERSION}-release.bin > microbox-${VERSION}-release.bin.sha256
        sha256sum microbox-${VERSION}-debug.bin > microbox-${VERSION}-debug.bin.sha256
        
        # Ð˜Ð½Ñ„Ð¾Ñ€Ð¼Ð°Ñ†Ð¸Ñ Ð¾ Ñ€Ð°Ð·Ð¼ÐµÑ€Ð°Ñ…
        echo "## ðŸ“¦ Ð¡Ð¾Ð±Ñ€Ð°Ð½Ð½Ñ‹Ðµ Ñ„Ð°Ð¹Ð»Ñ‹:" > build-info.txt
        ls -lh microbox-*.bin | awk '{print $9 " - " $5}' >> build-info.txt
        
    - name: Generate Release Notes
      run: |
        VERSION=${{ inputs.version }}
        EPIC_NAME_RU="${{ steps.epic_name.outputs.epic_name_ru }}"
        EPIC_NAME_EN="${{ steps.epic_name.outputs.epic_name_en }}"
        
        cat > RELEASE_NOTES.md << 'EOFMARKER'
        # ÐœÐ¸ÐºÑ€Ð¾Ð‘Ð‘Ð¾ÐºÑ $VERSION â€” $EPIC_NAME_RU
        
        > **"$EPIC_NAME_EN"** â€” Epic codename for this release
        
        ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ Ñ€ÐµÐ»Ð¸Ð· ÐœÐ¸ÐºÑ€Ð¾Ð‘Ð‘Ð¾ÐºÑ - Ð¼Ð¸Ð½Ð¸Ð°Ñ‚ÑŽÑ€Ð½Ð¾Ð³Ð¾ Ñ€Ð¾Ð±Ð¾Ñ‚Ð° Ð½Ð° ESP32CAM.
        
        ## ðŸ“¦ Ð¤Ð°Ð¹Ð»Ñ‹ Ð¿Ñ€Ð¾ÑˆÐ¸Ð²ÐºÐ¸
        
        - **microbox-$VERSION-release.bin** - ÐžÐ¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð°Ñ Ð¿Ñ€Ð¾ÑˆÐ¸Ð²ÐºÐ° Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð´Ð°ÐºÑˆÐµÐ½Ð°
        - **microbox-$VERSION-debug.bin** - ÐžÑ‚Ð»Ð°Ð´Ð¾Ñ‡Ð½Ð°Ñ Ð²ÐµÑ€ÑÐ¸Ñ Ñ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ð¼ Ð»Ð¾Ð³Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸ÐµÐ¼
        
        ## ðŸš€ ÐšÐ°Ðº ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ
        
        ### ÐœÐµÑ‚Ð¾Ð´ 1: Ð§ÐµÑ€ÐµÐ· Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ (OTA Update)
        
        1. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº Ñ€Ð¾Ð±Ð¾Ñ‚Ñƒ Ñ‡ÐµÑ€ÐµÐ· WiFi:
           - SSID: `ÐœÐ¸ÐºÑ€Ð¾Ð‘Ð‘Ð¾ÐºÑ`
           - ÐŸÐ°Ñ€Ð¾Ð»ÑŒ: `12345678`
        2. ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ð¸ Ð¿ÐµÑ€ÐµÐ¹Ð´Ð¸Ñ‚Ðµ Ð½Ð° `http://192.168.4.1`
        3. ÐÐ°Ð¶Ð¼Ð¸Ñ‚Ðµ ÐºÐ½Ð¾Ð¿ÐºÑƒ **ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ**
        4. Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ ÑÐºÐ°Ñ‡Ð°Ð½Ð½Ñ‹Ð¹ Ñ„Ð°Ð¹Ð» `.bin`
        5. Ð”Ð¾Ð¶Ð´Ð¸Ñ‚ÐµÑÑŒ Ð·Ð°Ð²ÐµÑ€ÑˆÐµÐ½Ð¸Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ
        
        ### ÐœÐµÑ‚Ð¾Ð´ 2: Ð§ÐµÑ€ÐµÐ· USB (esptool)
        
        ```bash
        # Ð£ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚Ðµ esptool
        pip install esptool
        
        # ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ ESP32CAM Ðº ÐºÐ¾Ð¼Ð¿ÑŒÑŽÑ‚ÐµÑ€Ñƒ Ñ‡ÐµÑ€ÐµÐ· USB-UART
        # Ð—Ð°Ð¼ÐµÐ½Ð¸Ñ‚Ðµ COM3 Ð½Ð° Ð²Ð°Ñˆ Ð¿Ð¾Ñ€Ñ‚ (Ð´Ð»Ñ Linux/Mac: /dev/ttyUSB0)
        esptool.py --chip esp32 --port COM3 --baud 921600 \
          write_flash -z 0x10000 microbox-$VERSION-release.bin
        ```
        
        ### ÐœÐµÑ‚Ð¾Ð´ 3: Ð§ÐµÑ€ÐµÐ· PlatformIO
        
        ```bash
        # ÐšÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
        git clone https://github.com/GOODWORKRINKZ/microbbox.git
        cd microbbox
        
        # ÐŸÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ð½Ð° Ð½ÑƒÐ¶Ð½ÑƒÑŽ Ð²ÐµÑ€ÑÐ¸ÑŽ
        git checkout $VERSION
        
        # Ð¡Ð¾Ð±ÐµÑ€Ð¸Ñ‚Ðµ Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚Ðµ
        pio run --environment release --target upload
        ```
        
        ## âœ¨ Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ð¸
        
        - ðŸ“± **ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ** - Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð¿Ð¾Ð´ÑÑ‚Ñ€Ð°Ð¸Ð²Ð°ÐµÑ‚ÑÑ Ð¿Ð¾Ð´ ÐŸÐš, Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ðµ ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð° Ð¸ VR-ÑˆÐ»ÐµÐ¼Ñ‹
        - ðŸŽ® **Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ**:
          - Ð¡ ÐºÐ»Ð°Ð²Ð¸Ð°Ñ‚ÑƒÑ€Ñ‹ (WASD/ÑÑ‚Ñ€ÐµÐ»ÐºÐ¸)
          - Ð’Ð¸Ñ€Ñ‚ÑƒÐ°Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ ÑÑ‚Ð¸ÐºÐ°Ð¼Ð¸ Ð½Ð° Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ…
          - Ð“ÐµÐ¹Ð¼Ð¿Ð°Ð´Ð¾Ð¼
          - ÐšÐ¾Ð½Ñ‚Ñ€Ð¾Ð»Ð»ÐµÑ€Ð°Ð¼Ð¸ VR (Oculus Quest)
        - ðŸ“¹ **Ð’Ð¸Ð´ÐµÐ¾ÑÑ‚Ñ€Ð¸Ð¼ Ð² Ñ€ÐµÐ°Ð»ÑŒÐ½Ð¾Ð¼ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸** Ñ ÐºÐ°Ð¼ÐµÑ€Ñ‹ ESP32CAM
        - ðŸ’¡ **3 Ð°Ð´Ñ€ÐµÑÐ½Ñ‹Ñ… ÑÐ²ÐµÑ‚Ð¾Ð´Ð¸Ð¾Ð´Ð°** WS2812B Ñ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸ÑÐ¼Ð¸
        - ðŸ”Š **Ð‘ÑƒÐ·ÐµÑ€** Ð´Ð»Ñ Ð·Ð²ÑƒÐºÐ¾Ð²Ñ‹Ñ… ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð²
        - ðŸš” **Ð ÐµÐ¶Ð¸Ð¼Ñ‹ ÑÑ„Ñ„ÐµÐºÑ‚Ð¾Ð²**:
          - ÐŸÐ¾Ð»Ð¸Ñ†Ð¸Ñ (ÐºÑ€Ð°ÑÐ½Ð¾-ÑÐ¸Ð½Ð¸Ðµ Ð¼Ð¸Ð³Ð°Ð»ÐºÐ¸ + ÑÐ¸Ñ€ÐµÐ½Ð°)
          - ÐŸÐ¾Ð¶Ð°Ñ€Ð½Ñ‹Ðµ (ÐºÑ€Ð°ÑÐ½Ð¾-Ð¾Ñ€Ð°Ð½Ð¶ÐµÐ²Ñ‹Ðµ ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹)
          - Ð¡ÐºÐ¾Ñ€Ð°Ñ Ð¿Ð¾Ð¼Ð¾Ñ‰ÑŒ (Ð±ÐµÐ»Ð¾-ÐºÑ€Ð°ÑÐ½Ñ‹Ðµ ÑÑ„Ñ„ÐµÐºÑ‚Ñ‹)
          - ÐžÐ±Ñ‹Ñ‡Ð½Ñ‹Ð¹ (Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ñ Ð´Ð²Ð¸Ð¶ÐµÐ½Ð¸Ñ)
        - ðŸ”„ **OTA Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ** Ð¿Ñ€ÑÐ¼Ð¾ Ñ‡ÐµÑ€ÐµÐ· Ð²ÐµÐ±-Ð¸Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ
        - âš™ï¸ **Ð”Ð²Ð° Ñ€ÐµÐ¶Ð¸Ð¼Ð° ÑƒÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ**:
          - Ð¢Ð°Ð½ÐºÐ¾Ð²Ñ‹Ð¹ (Ð»ÐµÐ²Ñ‹Ð¹/Ð¿Ñ€Ð°Ð²Ñ‹Ð¹ ÑÑ‚Ð¸Ðº = Ð»ÐµÐ²Ð°Ñ/Ð¿Ñ€Ð°Ð²Ð°Ñ ÑÑ‚Ð¾Ñ€Ð¾Ð½Ð°)
          - Ð”Ð¸Ñ„Ñ„ÐµÑ€ÐµÐ½Ñ†Ð¸Ð°Ð»ÑŒÐ½Ñ‹Ð¹ (Ð¿Ñ€Ð°Ð²Ñ‹Ð¹ = ÑÐºÐ¾Ñ€Ð¾ÑÑ‚ÑŒ, Ð»ÐµÐ²Ñ‹Ð¹ = Ð¿Ð¾Ð²Ð¾Ñ€Ð¾Ñ‚)
        
        ## ðŸ”§ Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ Ñ…Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸ÐºÐ¸
        
        - **ÐŸÑ€Ð¾Ñ†ÐµÑÑÐ¾Ñ€**: ESP32 @ 240MHz
        - **ÐŸÐ°Ð¼ÑÑ‚ÑŒ**: 320KB RAM, 4MB Flash
        - **ÐšÐ°Ð¼ÐµÑ€Ð°**: OV2640
        - **WiFi**: 2.4GHz (Ñ€ÐµÐ¶Ð¸Ð¼Ñ‹ AP/STA)
        - **ÐœÐ¾Ñ‚Ð¾Ñ€Ñ‹**: 2x Ñ Ð´Ñ€Ð°Ð¹Ð²ÐµÑ€Ð¾Ð¼ MX1508
        - **Ð¡Ð²ÐµÑ‚Ð¾Ð´Ð¸Ð¾Ð´Ñ‹**: 3x WS2812B (2 ÑÐ·Ð°Ð´Ð¸, 1 ÑÐ¿ÐµÑ€ÐµÐ´Ð¸)
        - **Ð‘ÑƒÐ·ÐµÑ€**: ÐÐºÑ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð±ÑƒÐ·ÐµÑ€ Ð½Ð° Ð¿Ð¸Ð½Ðµ 16
        
        ## ðŸ“ ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ†ÐµÐ»Ð¾ÑÑ‚Ð½Ð¾ÑÑ‚Ð¸
        
        ÐŸÐµÑ€ÐµÐ´ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¾Ð¹ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ ÐºÐ¾Ð½Ñ‚Ñ€Ð¾Ð»ÑŒÐ½Ñ‹Ðµ ÑÑƒÐ¼Ð¼Ñ‹:
        
        ```bash
        # Ð”Ð»Ñ release Ð²ÐµÑ€ÑÐ¸Ð¸
        sha256sum -c microbox-$VERSION-release.bin.sha256
        
        # Ð”Ð»Ñ debug Ð²ÐµÑ€ÑÐ¸Ð¸
        sha256sum -c microbox-$VERSION-debug.bin.sha256
        ```
        
        ## ðŸ› Ð˜Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹
        
        - ÐŸÑ€Ð¸ Ð¿ÐµÑ€Ð²Ð¾Ð¼ Ð·Ð°Ð¿ÑƒÑÐºÐµ Ð¼Ð¾Ð¶ÐµÑ‚ Ð¿Ð¾Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ñ‚ÑŒÑÑ Ð¿ÐµÑ€ÐµÐ·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð´Ð»Ñ ÑÑ‚Ð°Ð±Ð¸Ð»ÑŒÐ½Ð¾Ð¹ Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ WiFi
        - Ð’ Ñ€ÐµÐ¶Ð¸Ð¼Ðµ VR Ñ‚Ñ€ÐµÐ±ÑƒÐµÑ‚ÑÑ ÑÐ¾Ð²Ð¼ÐµÑÑ‚Ð¸Ð¼Ñ‹Ð¹ Ð±Ñ€Ð°ÑƒÐ·ÐµÑ€ Ñ WebXR API
        
        ## ðŸ“– Ð”Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ
        
        ÐŸÐ¾Ð»Ð½Ð°Ñ Ð´Ð¾ÐºÑƒÐ¼ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ Ð´Ð¾ÑÑ‚ÑƒÐ¿Ð½Ð° Ð² [README.md](https://github.com/GOODWORKRINKZ/microbbox/blob/main/README.md)
        
        ## ðŸ’¬ ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ°
        
        Ð•ÑÐ»Ð¸ Ñƒ Ð²Ð°Ñ Ð²Ð¾Ð·Ð½Ð¸ÐºÐ»Ð¸ Ð¿Ñ€Ð¾Ð±Ð»ÐµÐ¼Ñ‹:
        - Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ [Issue](https://github.com/GOODWORKRINKZ/microbbox/issues)
        - ÐŸÐ¾ÑÐ¼Ð¾Ñ‚Ñ€Ð¸Ñ‚Ðµ [Wiki](https://github.com/GOODWORKRINKZ/microbbox/wiki)
        
        ---
        
        EOFMARKER
        
        # ÐŸÐ¾Ð´ÑÑ‚Ð°Ð²Ð»ÑÐµÐ¼ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð² ÐºÐ¾Ð½ÐµÑ† Ñ„Ð°Ð¹Ð»Ð°
        echo "" >> RELEASE_NOTES.md
        echo "**Ð”Ð°Ñ‚Ð° ÑÐ±Ð¾Ñ€ÐºÐ¸**: $(date -u +'%Y-%m-%d %H:%M:%S UTC')" >> RELEASE_NOTES.md
        echo "**Git commit**: $(git rev-parse --short HEAD)" >> RELEASE_NOTES.md
        
        # Ð—Ð°Ð¼ÐµÐ½ÑÐµÐ¼ Ð¿ÐµÑ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ðµ Ð² Ñ„Ð°Ð¹Ð»Ðµ Ð½Ð° Ñ€ÐµÐ°Ð»ÑŒÐ½Ñ‹Ðµ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ
        sed -i "s/\$VERSION/${VERSION}/g" RELEASE_NOTES.md
        sed -i "s/\$EPIC_NAME_RU/${EPIC_NAME_RU}/g" RELEASE_NOTES.md
        sed -i "s/\$EPIC_NAME_EN/${EPIC_NAME_EN}/g" RELEASE_NOTES.md
        
    - name: Create GitHub Release
      uses: softprops/action-gh-release@v1
      with:
        tag_name: ${{ inputs.version }}
        name: ÐœÐ¸ÐºÑ€Ð¾Ð‘Ð‘Ð¾ÐºÑ ${{ inputs.version }} â€” ${{ steps.epic_name.outputs.epic_name_ru }}
        body_path: RELEASE_NOTES.md
        files: |
          microbox-*.bin
          microbox-*.sha256
        draft: false
        prerelease: false
      env:
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
        
    - name: Build Summary
      run: |
        echo "## âœ… Ð ÐµÐ»Ð¸Ð· ${{ inputs.version }} ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½!" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "### ðŸŽ­ Ð­Ð¿Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ:" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "**${{ steps.epic_name.outputs.epic_name_ru }}** (${{ steps.epic_name.outputs.epic_name_en }})" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "### ðŸ“¦ Ð¤Ð°Ð¹Ð»Ñ‹:" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        ls -lh microbox-*.bin | awk '{print "- **" $9 "** - " $5}' >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "### ðŸ”— Ð¡ÑÑ‹Ð»ÐºÐ¸:" >> $GITHUB_STEP_SUMMARY
        echo "" >> $GITHUB_STEP_SUMMARY
        echo "- [Ð ÐµÐ»Ð¸Ð· Ð½Ð° GitHub](https://github.com/${{ github.repository }}/releases/tag/${{ inputs.version }})" >> $GITHUB_STEP_SUMMARY
        echo "- [Ð’ÑÐµ Ñ€ÐµÐ»Ð¸Ð·Ñ‹](https://github.com/${{ github.repository }}/releases)" >> $GITHUB_STEP_SUMMARY
