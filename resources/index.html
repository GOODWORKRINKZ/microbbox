<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>–ú–∏–∫—Ä–æ–ë–ë–æ–∫—Å - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="screen-orientation" content="landscape">
</head>
<body>
    <!-- –ö–Ω–æ–ø–∫–∞ fullscreen -->
    <button id="fullscreenBtn" class="fullscreen-btn" title="–ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º">‚õ∂</button>
    
    <!-- –ö–Ω–æ–ø–∫–∞ –≤—Ö–æ–¥–∞ –≤ VR -->
    <button id="vrBtn" class="vr-btn hidden" title="–í–æ–π—Ç–∏ –≤ VR —Ä–µ–∂–∏–º">ü•Ω VR</button>
    
    <div id="loading" class="loading-screen">
        <div class="loader"></div>
        <h2>–ú–∏–∫—Ä–æ–ë–ë–æ–∫—Å</h2>
        <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è...</p>
    </div>

    <div id="mainInterface" class="main-interface hidden">
        <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π (—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö) -->
        <header class="header">
            <h1>–ú–∏–∫—Ä–æ–ë–ë–æ–∫—Å</h1>
            <div class="status-indicators">
                <span id="connectionStatus" class="status-indicator">‚óè</span>
                <span id="deviceType" class="device-type"></span>
            </div>
        </header>

        <!-- –í–∏–¥–µ–æ —Å—Ç—Ä–∏–º –æ—Ç –∫–∞–º–µ—Ä—ã -->
        <div class="video-container">
            <img id="cameraStream" src="" alt="–ö–∞–º–µ—Ä–∞ —Ä–æ–±–æ—Ç–∞" class="camera-stream">
            <div class="stream-overlay">
                <div class="crosshair"></div>
            </div>
        </div>

        <!-- –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –ü–ö -->
        <div id="pcControls" class="pc-controls hidden">
            <div class="control-panel">
                <div class="control-section">
                    <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ</h3>
                    <div class="control-buttons">
                        <button class="control-btn" data-direction="forward">‚Üë</button>
                        <div class="middle-row">
                            <button class="control-btn" data-direction="left">‚Üê</button>
                            <button class="control-btn stop-btn" data-direction="stop">‚èπ</button>
                            <button class="control-btn" data-direction="right">‚Üí</button>
                        </div>
                        <button class="control-btn" data-direction="backward">‚Üì</button>
                    </div>
                </div>
                
                <div class="control-section">
                    <h3>–†–µ–∂–∏–º—ã</h3>
                    <select id="controlMode" class="mode-selector">
                        <option value="tank">–¢–∞–Ω–∫–æ–≤—ã–π</option>
                        <option value="differential">–î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π</option>
                    </select>
                    
                    <select id="effectMode" class="mode-selector">
                        <option value="normal">–û–±—ã—á–Ω—ã–π</option>
                        <option value="police">–ü–æ–ª–∏—Ü–∏—è</option>
                        <option value="fire">–ü–æ–∂–∞—Ä–Ω—ã–µ</option>
                        <option value="ambulance">–°–∫–æ—Ä–∞—è</option>
                    </select>
                </div>

                <div class="control-section">
                    <h3>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ</h3>
                    <button id="flashlightBtn" class="feature-btn">üí° –§–æ–Ω–∞—Ä–∏–∫</button>
                    <button id="hornBtn" class="feature-btn">üîä –°–∏–≥–Ω–∞–ª</button>
                    <button id="updateBtn" class="feature-btn update-btn">üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ</button>
                </div>
            </div>
        </div>

        <!-- –ú–æ–±–∏–ª—å–Ω—ã–µ —Å—Ç–∏–∫–∏ -->
        <div id="mobileControls" class="mobile-controls hidden">
            <div class="joystick-container left">
                <div class="joystick" id="leftJoystick">
                    <div class="joystick-knob"></div>
                </div>
                <span class="joystick-label">–ü–æ–≤–æ—Ä–æ—Ç</span>
            </div>
            
            <div class="joystick-container right">
                <div class="joystick" id="rightJoystick">
                    <div class="joystick-knob"></div>
                </div>
                <span class="joystick-label">–°–∫–æ—Ä–æ—Å—Ç—å</span>
            </div>

            <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å —Ä–µ–∂–∏–º–æ–≤ -->
            <div class="mobile-panel">
                <button id="mobileSettings" class="panel-btn">‚öôÔ∏è</button>
                <button id="mobileFlashlight" class="panel-btn">üí°</button>
                <button id="mobileHorn" class="panel-btn">üîä</button>
                <button id="mobileEffects" class="panel-btn">‚ú®</button>
                <button id="mobileUpdate" class="panel-btn">üîÑ</button>
            </div>
        </div>

        <!-- VR —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ -->
        <div id="vrControls" class="vr-controls hidden">
            <div class="vr-info">
                <h2>–†–µ–∂–∏–º VR –∞–∫—Ç–∏–≤–µ–Ω</h2>
                <p>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã Oculus –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</p>
                <div class="vr-status">
                    <span id="vrStatus">–ü–æ–∏—Å–∫ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤...</span>
                </div>
            </div>
        </div>

        <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–∫ -->
        <div id="settingsModal" class="modal hidden">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ú–∏–∫—Ä–æ–ë–ë–æ–∫—Å</h2>
                
                <div class="settings-section">
                    <h3>–†–µ–∂–∏–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</h3>
                    <label>
                        <input type="radio" name="controlMode" value="tank"> –¢–∞–Ω–∫–æ–≤—ã–π —Ä–µ–∂–∏–º
                    </label>
                    <label>
                        <input type="radio" name="controlMode" value="differential"> –î–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º
                    </label>
                </div>

                <div class="settings-section">
                    <h3>–≠—Ñ—Ñ–µ–∫—Ç—ã</h3>
                    <label>
                        <input type="radio" name="effectMode" value="normal" checked> –û–±—ã—á–Ω—ã–π
                    </label>
                    <label>
                        <input type="radio" name="effectMode" value="police"> –ü–æ–ª–∏—Ü–∏—è
                    </label>
                    <label>
                        <input type="radio" name="effectMode" value="fire"> –ü–æ–∂–∞—Ä–Ω—ã–µ
                    </label>
                    <label>
                        <input type="radio" name="effectMode" value="ambulance"> –°–∫–æ—Ä–∞—è –ø–æ–º–æ—â—å
                    </label>
                </div>

                <div class="settings-section">
                    <h3>–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å</h3>
                    <label>–°–∫–æ—Ä–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è: <input type="range" id="speedSensitivity" min="50" max="100" value="80"></label>
                    <label>–ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ–≤–æ—Ä–æ—Ç–∞: <input type="range" id="turnSensitivity" min="50" max="100" value="70"></label>
                </div>

                <div class="settings-section">
                    <h3>WiFi –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</h3>
                    <div id="wifiStatus" class="wifi-status"></div>
                    <label>
                        –†–µ–∂–∏–º:
                        <select id="wifiMode">
                            <option value="CLIENT">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ç–∏ (Client)</option>
                            <option value="AP">–¢–æ—á–∫–∞ –¥–æ—Å—Ç—É–ø–∞ (AP)</option>
                        </select>
                    </label>
                    <label>
                        SSID —Å–µ—Ç–∏:
                        <input type="text" id="wifiSSID" placeholder="–ò–º—è WiFi —Å–µ—Ç–∏">
                    </label>
                    <label>
                        –ü–∞—Ä–æ–ª—å:
                        <input type="password" id="wifiPassword" placeholder="–ü–∞—Ä–æ–ª—å —Å–µ—Ç–∏">
                    </label>
                    <button id="saveWiFi" class="btn-secondary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å WiFi</button>
                    <button id="restartDevice" class="btn-danger">–ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ</button>
                </div>

                <div class="settings-section">
                    <h3>üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—à–∏–≤–∫–∏</h3>
                    <div id="updateInfo" class="update-info">
                        <p>–¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: <strong id="currentVersion">–ó–∞–≥—Ä—É–∑–∫–∞...</strong></p>
                        <p id="releaseName"></p>
                    </div>
                    <div class="update-actions">
                        <button id="checkUpdatesBtn" class="btn-secondary">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è</button>
                        <label class="update-checkbox">
                            <input type="checkbox" id="autoUpdate"> –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
                        </label>
                        <label class="update-checkbox">
                            <input type="checkbox" id="dontOfferUpdates"> –ù–µ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
                        </label>
                    </div>
                    <div id="updateAvailable" class="update-available hidden">
                        <h4>–î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è!</h4>
                        <p>–í–µ—Ä—Å–∏—è: <strong id="newVersion"></strong></p>
                        <p id="newReleaseName"></p>
                        <details>
                            <summary>–ß—Ç–æ –Ω–æ–≤–æ–≥–æ?</summary>
                            <pre id="releaseNotes"></pre>
                        </details>
                        <button id="downloadUpdateBtn" class="btn-primary">–°–∫–∞—á–∞—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ</button>
                    </div>
                    <div class="update-manual">
                        <h4>–ò–ª–∏ –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—à–∏–≤–∫—É –≤—Ä—É—á–Ω—É—é:</h4>
                        <input type="file" id="firmwareFile" accept=".bin" style="display:none">
                        <button id="selectFirmwareBtn" class="btn-secondary">–í—ã–±—Ä–∞—Ç—å —Ñ–∞–π–ª .bin</button>
                        <span id="selectedFileName"></span>
                        <button id="uploadFirmwareBtn" class="btn-primary" disabled>–ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–æ—à–∏–≤–∫—É</button>
                        <div id="uploadProgress" class="upload-progress hidden">
                            <div class="progress-bar">
                                <div id="progressFill" class="progress-fill"></div>
                            </div>
                            <span id="progressText">0%</span>
                        </div>
                    </div>
                </div>

                <button id="saveSettings" class="btn-primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
            </div>
        </div>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ -->
        <div id="connectionInfo" class="connection-info">
            <span id="connectionText">–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ...</span>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>