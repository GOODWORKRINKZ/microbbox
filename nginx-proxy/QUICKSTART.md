# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç: WebXR –¥–ª—è MicroRoBox –∑–∞ 15 –º–∏–Ω—É—Ç

## –ß—Ç–æ –≤–∞–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è

- ‚úÖ Raspberry Pi Zero W/2W —Å Ubuntu
- ‚úÖ –†–æ—É—Ç–µ—Ä Keenetic Viva (–∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π)
- ‚úÖ –û–¥–Ω–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ ESP32-CAM —É—Å—Ç—Ä–æ–π—Å—Ç–≤ (MicroRoBox)
- ‚úÖ –î–æ–º–µ–Ω–Ω–æ–µ –∏–º—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `example.com`)

## –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker –Ω–∞ Raspberry Pi (5 –º–∏–Ω—É—Ç)

```bash
# SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ Raspberry Pi
ssh pi@192.168.1.50

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER
sudo apt install docker-compose -y

# –ü–µ—Ä–µ–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∞–≤
exit
ssh pi@192.168.1.50

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker --version
```

### –®–∞–≥ 2: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ nginx (2 –º–∏–Ω—É—Ç—ã)

```bash
# –ù–∞ Raspberry Pi
cd ~
git clone https://github.com/GOODWORKRINKZ/microbbox.git
cd microbbox/nginx-proxy

# –°–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
mkdir -p certbot/{conf,www,logs} nginx/logs

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞
docker-compose ps
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ (3 –º–∏–Ω—É—Ç—ã)

1. –û—Ç–∫—Ä–æ–π—Ç–µ `http://my.keenetic.net` (–ª–æ–≥–∏–Ω/–ø–∞—Ä–æ–ª—å –æ—Ç —Ä–æ—É—Ç–µ—Ä–∞)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Üí **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** ‚Üí –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **DNS-–ø—Ä–æ–∫—Å–∏**
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ: **–î–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å** ‚Üí **–õ–æ–∫–∞–ª—å–Ω—ã–µ –¥–æ–º–µ–Ω—ã** (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ telnet)
4. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–ø–∏—Å–∏:

```
robot1.example.com ‚Üí 192.168.1.50
robot2.example.com ‚Üí 192.168.1.50
robot3.example.com ‚Üí 192.168.1.50
```

**–ß–µ—Ä–µ–∑ telnet (–±—ã—Å—Ç—Ä–µ–µ):**
```bash
telnet my.keenetic.net
# –õ–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å

ip name robot1.example.com 192.168.1.50
ip name robot2.example.com 192.168.1.50
ip name robot3.example.com 192.168.1.50
system configuration save
exit
```

### –®–∞–≥ 4: –†–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ IP –¥–ª—è ESP32 (2 –º–∏–Ω—É—Ç—ã)

1. –í –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ —Ä–æ—É—Ç–µ—Ä–∞: **–î–æ–º–∞—à–Ω—è—è —Å–µ—Ç—å** ‚Üí **–£—Å—Ç—Ä–æ–π—Å—Ç–≤–∞**
2. –ù–∞–π–¥–∏—Ç–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ `MICROBBOX-XXXXXX`
3. –ö–ª–∏–∫–Ω–∏—Ç–µ ‚Üí **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è**
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ **–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π IP**: `192.168.1.100`
5. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–æ–±–æ—Ç–∞ (101, 102, ...)

### –®–∞–≥ 5: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ nginx (1 –º–∏–Ω—É—Ç–∞)

```bash
# –ù–∞ Raspberry Pi
cd ~/microbbox/nginx-proxy
sudo ./scripts/add-device.sh

# –û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã:
# –ò–º—è: robot1
# IP: 192.168.1.100
# –î–æ–º–µ–Ω: robot1.example.com
# API –ø–æ—Ä—Ç: 80
# Stream –ø–æ—Ä—Ç: 81
```

### –®–∞–≥ 6: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ DNS –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ (1 –º–∏–Ω—É—Ç–∞)

–í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ `example.com` –¥–æ–±–∞–≤—å—Ç–µ A-–∑–∞–ø–∏—Å–∏:

```
robot1.example.com ‚Üí –í–ê–®_–ü–£–ë–õ–ò–ß–ù–´–ô_IP
robot2.example.com ‚Üí –í–ê–®_–ü–£–ë–õ–ò–ß–ù–´–ô_IP
robot3.example.com ‚Üí –í–ê–®_–ü–£–ë–õ–ò–ß–ù–´–ô_IP
```

**–£–∑–Ω–∞—Ç—å —Å–≤–æ–π –ø—É–±–ª–∏—á–Ω—ã–π IP:**
```bash
curl ifconfig.me
```

### –®–∞–≥ 7: –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –Ω–∞ —Ä–æ—É—Ç–µ—Ä–µ (1 –º–∏–Ω—É—Ç–∞)

1. **–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ñ–∏–ª—å—Ç—Ä—ã** ‚Üí **–ü–µ—Ä–µ–∞–¥—Ä–µ—Å–∞—Ü–∏—è** ‚Üí **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ**
2. TCP –ø–æ—Ä—Ç 80 ‚Üí 192.168.1.50:80
3. TCP –ø–æ—Ä—Ç 443 ‚Üí 192.168.1.50:443

### –®–∞–≥ 8: –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ (2 –º–∏–Ω—É—Ç—ã)

```bash
# –ù–∞ Raspberry Pi
cd ~/microbbox/nginx-proxy
sudo ./scripts/obtain-certificate.sh robot1.example.com admin@example.com

# –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
sudo ./scripts/obtain-certificate.sh robot2.example.com admin@example.com
sudo ./scripts/obtain-certificate.sh robot3.example.com admin@example.com
```

### –®–∞–≥ 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ (1 –º–∏–Ω—É—Ç–∞)

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
./scripts/status.sh

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
curl -I https://robot1.example.com
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å 200 OK –∏–ª–∏ —Ä–µ–¥–∏—Ä–µ–∫—Ç
```

### –®–∞–≥ 10: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ WebXR! üéâ

1. –ù–∞–¥–µ–Ω—å—Ç–µ VR –≥–∞—Ä–Ω–∏—Ç—É—Ä—É (Oculus Quest)
2. –û—Ç–∫—Ä–æ–π—Ç–µ Oculus Browser
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ `https://robot1.example.com`
4. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **ü•Ω VR**
5. –ù–∞—Å–ª–∞–∂–¥–∞–π—Ç–µ—Å—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —Ä–æ–±–æ—Ç–æ–º –≤ VR!

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –¢–µ—Å—Ç 1: DNS —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ

```bash
# –° –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Å–µ—Ç–∏
nslookup robot1.example.com
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å: 192.168.1.50
```

### –¢–µ—Å—Ç 2: nginx —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
docker ps
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø—É—â–µ–Ω—ã: microbbox-nginx –∏ microbbox-certbot
```

### –¢–µ—Å—Ç 3: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –¥–æ—Å—Ç—É–ø–Ω–æ

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ SSL)
curl http://192.168.1.100

# –ß–µ—Ä–µ–∑ proxy (–¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å SSL)
curl -I https://robot1.example.com
```

### –¢–µ—Å—Ç 4: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–∞–ª–∏–¥–µ–Ω

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: `https://robot1.example.com`
- ‚úÖ –ù–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–µ
- ‚úÖ –ó–∞–º–æ—á–µ–∫ –≤ –∞–¥—Ä–µ—Å–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –∑–µ–ª–µ–Ω—ã–π
- ‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ä–æ–±–æ—Ç–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è

## –ß—Ç–æ –¥–µ–ª–∞—Ç—å –µ—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: DNS –Ω–µ —Ä–µ–∑–æ–ª–≤–∏—Ç—Å—è

```bash
# –ù–∞ —Ä–æ—É—Ç–µ—Ä–µ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ DNS –∑–∞–ø–∏—Å–∏
telnet my.keenetic.net
show ip name

# –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ –æ—á–∏—Å—Ç–∏—Ç–µ DNS –∫—ç—à
# Windows:
ipconfig /flushdns

# Linux/macOS:
sudo systemd-resolve --flush-caches
```

### –ü—Ä–æ–±–ª–µ–º–∞: nginx –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞ 80 –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
curl http://YOUR_PUBLIC_IP/.well-known/acme-challenge/test

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ certbot
docker logs microbbox-certbot

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ DNS
dig robot1.example.com
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å –≤–∞—à –ø—É–±–ª–∏—á–Ω—ã–π IP
```

### –ü—Ä–æ–±–ª–µ–º–∞: –£—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ ping
ping 192.168.1.100

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç—ã –Ω–∞–ø—Ä—è–º—É—é
curl http://192.168.1.100:80
curl http://192.168.1.100:81

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ nginx
docker logs microbbox-nginx
tail -f nginx/logs/robot1-error.log
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
./scripts/status.sh

# –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
sudo ./scripts/add-device.sh

# –£–¥–∞–ª–∏—Ç—å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
sudo ./scripts/remove-device.sh robot1.example.com

# –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
sudo ./scripts/obtain-certificate.sh robot1.example.com

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ nginx
docker exec microbbox-nginx nginx -s reload

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–ü–æ—Å–ª–µ –±–∞–∑–æ–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤—ã –º–æ–∂–µ—Ç–µ:

- üìñ –ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é: [README.md](README.md)
- üîß –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- üìä –î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å Prometheus/Grafana
- üöÄ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –±–æ–ª—å—à–µ–≥–æ —á–∏—Å–ª–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs`
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç —Å—Ç–∞—Ç—É—Å–∞: `./scripts/status.sh`
3. –°–æ–∑–¥–∞–π—Ç–µ Issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞

**–ü—Ä–∏—è—Ç–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è WebXR —Å MicroRoBox! ü§ñü•Ω**
